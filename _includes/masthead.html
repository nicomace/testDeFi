<style>
  /* On force l'alignement de la liste principale */
  .visible-links {
    display: flex !important;
    flex-direction: row !important;
    overflow: visible !important;
  }

  /* On isole l'élément Project */
  .masthead__menu-item {
    position: relative !important;
  }

  /* Style du sous-menu (le dropdown) */
  ul.sub-menu {
    display: none !important;
    position: absolute !important;
    top: 100% !important;
    left: 0 !important;
    background-color: #111 !important; /* Fond noir */
    min-width: 200px !important;
    z-index: 9999 !important;
    padding: 10px 0 !important;
    margin: 0 !important;
    list-style: none !important;
    box-shadow: 0 5px 15px rgba(0,0,0,0.5) !important;
  }

  /* Affichage au survol */
  .masthead__menu-item:hover ul.sub-menu {
    display: block !important;
  }

  /* Liens à l'intérieur du menu */
  ul.sub-menu li {
    display: block !important;
    width: 100% !important;
  }

  ul.sub-menu li a {
    padding: 10px 20px !important;
    color: #fff !important;
    display: block !important;
    border-bottom: none !important;
  }

/* --- STYLE FINAL : CADRE BEIGE & TEXTE LISIBLE --- */

  /* 1. Le cadre extérieur global : Bordure beige uniquement */
  .toc__menu, 
  .sidebar .nav__list {
      border: 1px solid #f5f5dc !important;
      background-color: #000 !important; /* On garde le fond bien noir */
      border-radius: 4px !important;
      padding: 0 !important;
      overflow: hidden !important;
  }
  
  /* 2. Le bandeau de titre "On this page" : Fond beige, Texte noir */
  .toc__menu .nav__title,
  .sidebar .nav__list .nav__title {
      background-color: #f5f5dc !important; /* Force le BEIGE ici */
      color: #000 !important;               /* Texte NOIR pour que ce soit lisible */
      border: none !important;
      margin: 0 !important;
  }
  
  /* 3. Les liens dans la liste : Texte blanc, pas de rose */
  .toc__menu li a, 
  .sidebar .nav__list li a {
      color: #fff !important; 
      border-bottom: 1px solid #222 !important; /* Ligne de séparation sombre */
      background: transparent !important;
  }
  
  /* 4. Supprimer la barre rose à gauche qui apparaît parfois */
  .toc__menu li a.is-active,
  .sidebar .nav__list li a.is-active {
      border-left: 3px solid #f5f5dc !important; /* Barre beige à la place du rose */
      color: #f5f5dc !important;
  }
  
  /* 5. L'icône (la petite liste) : On la force en noir pour aller avec le texte du titre */
  .toc__menu .nav__title i {
      color: #000 !important;
  }
</style>


<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <a class="site-title" href="{{ '/' | relative_url }}">{{ site.title }}</a>
        <ul class="visible-links">
          {% for link in site.data.navigation.main %}
            <li class="masthead__menu-item">
              <a href="{{ link.url | relative_url }}">{{ link.title }}</a>
              {% if link.children %}
                <ul class="sub-menu">
                  {% for child in link.children %}
                    <li><a href="{{ child.url | relative_url }}">{{ child.title }}</a></li>
                  {% endfor %}
                </ul>
              {% endif %}
            </li>
          {% endfor %}
        </ul>
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">{{ site.data.ui-text[site.locale].menu_label | default: "Toggle Menu" }}</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>
